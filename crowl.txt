import com.googlecode.lanterna.TerminalSize;
import com.googlecode.lanterna.TextColor;
import com.googlecode.lanterna.graphics.TextGraphics;
import com.googlecode.lanterna.screen.Screen;
import com.googlecode.lanterna.screen.TerminalScreen;
import com.googlecode.lanterna.terminal.DefaultTerminalFactory;
import com.googlecode.lanterna.terminal.Terminal;

public class LanternaProgressBarDemo {
    public static void main(String[] args) throws Exception {
        Terminal terminal = new DefaultTerminalFactory().createTerminal();
        Screen screen = new TerminalScreen(terminal);

        try {
            screen.startScreen();
            screen.setCursorPosition(null); // Скрыть курсор

            int total = 100;
            TextGraphics graphics = screen.newTextGraphics();
            for (int i = 0; i <= total; i++) {
                String progressBar = "[" + "=".repeat(i / 2) + " ".repeat(50 - i / 2) + "]";
                graphics.setForegroundColor(TextColor.ANSI.GREEN);
                graphics.putString(10, 5, "Progress: " + progressBar + " " + i + "%");
                screen.refresh();
                Thread.sleep(50); // Имитация работы
            }
        } finally {
            screen.stopScreen();
            terminal.close();
        }
    }
}
