-- Create the ois database
CREATE DATABASE ois;

-- Create the FILE_ITERATIONS table in the ois database
USE ois;
CREATE TABLE FILE_ITERATIONS (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    category_id INTEGER NOT NULL,
    name VARCHAR(255) NOT NULL,
    arrived_at DATE NOT NULL,
    state VARCHAR(20) NOT NULL,
    destination VARCHAR(255) NOT NULL,
    file_size BIGINT NOT NULL,
    rows BIGINT NOT NULL,
    processing_start TIMESTAMP NOT NULL,
    processing_end TIMESTAMP NOT NULL,
    archive_size BIGINT,
    archive_name VARCHAR(255),
    FOREIGN KEY (category_id) REFERENCES FILE_CATEGORIES(id)
);

-- Create the core database
CREATE DATABASE core;

-- Create the FILE_ITERATIONS table in the core database
USE core;
CREATE TABLE FILE_ITERATIONS (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    category_id INTEGER NOT NULL,
    name VARCHAR(255) NOT NULL,
    arrived_at DATE NOT NULL,
    state VARCHAR(20) NOT NULL,
    destination VARCHAR(255) NOT NULL,
    file_size BIGINT NOT NULL,
    rows BIGINT NOT NULL,
    processing_start TIMESTAMP NOT NULL,
    processing_end TIMESTAMP NOT NULL,
    archive_size BIGINT,
    archive_name VARCHAR(255),
    FOREIGN KEY (category_id) REFERENCES FILE_CATEGORIES(id)
